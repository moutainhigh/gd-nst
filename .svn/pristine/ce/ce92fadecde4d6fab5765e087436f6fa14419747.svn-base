package cn.gdeng.nst.web.controller.member;

import javax.servlet.http.HttpServletRequest;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.ResponseBody;

import cn.gdeng.nst.api.dto.member.MemberCarApiDTO;
import cn.gdeng.nst.api.server.member.MemberCarApiService;
import cn.gdeng.nst.api.vo.member.MemberCarDetailVo;
import cn.gdeng.nst.entity.nst.MemberCarEntity;
import cn.gdeng.nst.util.web.api.ApiPage;
import cn.gdeng.nst.util.web.api.ApiResult;
import cn.gdeng.nst.web.controller.base.BaseController;

import com.alibaba.dubbo.config.annotation.Reference;
@Controller
@RequestMapping("memberCarApi")
public class MemberCarApiController  extends BaseController {

	@Reference
	private MemberCarApiService memberCarApiService;
	
	/**
	 * 分页查询用户车辆
	 * @param request
	 * @return
	 * @throws Exception
	 */
	@RequestMapping("queryMemberCarPage")
	@ResponseBody
	public Object queryMemberCarPage(HttpServletRequest request) throws Exception {
		ApiPage page = getPageInfoEncript(request);
		return memberCarApiService.queryPage(page);
	}
	
	@ResponseBody
	@RequestMapping("saveMemberCar")
	public Object saveMemberCar(HttpServletRequest request) throws Exception {
		MemberCarEntity memberCarEntity = getDecodeDto(request,MemberCarEntity.class);        
        ApiResult<Long> result = memberCarApiService.saveMemberCar(memberCarEntity);
        return result; 
	 }
	
	
	@ResponseBody
	@RequestMapping("deleteMemberCarById")
	public Object deleteMemberCarById(HttpServletRequest request) throws Exception {
		MemberCarApiDTO memberCarApiDTO = getDecodeDto(request,MemberCarApiDTO.class);        
        ApiResult<Integer> result = memberCarApiService.deleteMemberCarById(memberCarApiDTO);
        return result; 
	 }
	

	@ResponseBody
	@RequestMapping("queryMemberCarDetailById")
	public Object queryMemberCarDetailById(HttpServletRequest request) throws Exception {
		MemberCarApiDTO memberCarApiDTO = getDecodeDto(request,MemberCarApiDTO.class);        
        ApiResult<MemberCarDetailVo> result = memberCarApiService.queryMemberCarDetailById(memberCarApiDTO);
        return result; 
	 }

	@ResponseBody
	@RequestMapping("queryMemberCarNumber")
	public Object queryMemberCarNumber(HttpServletRequest request) throws Exception {
		MemberCarApiDTO memberCarApiDTO = getDecodeDto(request,MemberCarApiDTO.class);        
        ApiResult<Integer> result = memberCarApiService.queryMemberCarNumberNumber(memberCarApiDTO);
        return result; 
	 }
	
}
