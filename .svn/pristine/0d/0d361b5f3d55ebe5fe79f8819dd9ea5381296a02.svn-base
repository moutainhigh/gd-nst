<?xml version="1.0" encoding="UTF-8" ?>
<sqlMap namespace="MemberCarApi">    
    
  <sql id="queryPage">
   select m.id,m.carLength,m.carNumber,m.carType,m.`load`   
   from member_car m   
   where   m.memberId=:memberId
      and  m.isDeleted=0
      order by m.createTime  desc  
      LIMIT :startRow,:endRow 
</sql>  


 <sql id="getTotal">
    select  
         count(1)
       from member_car m   
        where 
        m.isDeleted=0
        and
       m.memberId=:memberId
</sql>  


   <sql id="deleteMemberCarById">
    update member_car
    set isDeleted=1
    where id=:id and memberId=:memberId
	</sql>
	
	
   <sql id="findMemberCarById">
     select m.id,m.carLength,m.carNumber,m.carType,m.`load`,vehicleUrl,carHeadUrl,carRearUrl
   from member_car m   
     where m.id=:id and m.memberId=:memberId
	</sql>



<sql id="queryMemberCarNumber">
    select  
         count(1)
       from member_car m   
        where 
        m.isDeleted=0
        and carNumber=:carNumber
</sql>  



   <sql id="updateMemberCarById">
  <![CDATA[   update member_car
    set  updateTime=now()
    <#if carNumber?exists && carNumber!="">
		,carNumber=:carNumber
   </#if>
    <#if load?exists && load!="">
		,`load`=:load
   </#if>
    <#if carLength?exists && carLength!="">
		,carLength=:carLength
   </#if>
    <#if vehicleUrl?exists && vehicleUrl!="">
		,vehicleUrl=:vehicleUrl
   </#if>
    <#if carHeadUrl?exists && carHeadUrl!="">
		,carHeadUrl=:carHeadUrl
   </#if>
    <#if carRearUrl?exists && carRearUrl!="">
		,carRearUrl=:carRearUrl
   </#if>
    where id=:id and memberId=:memberId
    ]]>
	</sql>




</sqlMap>